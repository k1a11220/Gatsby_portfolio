{"version":3,"sources":["webpack:///./src/components/comment.js","webpack:///./src/styles/dateTime.js","webpack:///./src/templates/blogPost.js"],"names":["src","Comment","repo","useSiteMetadata","siteMetadata","utterances","theme","useContext","ThemeContext","containerRef","useRef","isUtterancesCreated","useEffect","themeMode","current","DARK","document","body","dataset","utterancesEl","querySelector","message","type","contentWindow","postMessage","postThemeMessage","comment","createElement","attributes","label","crossOrigin","async","Object","entries","forEach","key","value","setAttribute","appendChild","createUtterancesEl","ref","displayName","DateTime","styled","time","ThumbnailImg","Img","device","md","sm","OuterWrapper","div","InnerWrapper","CommentWrap","section","PostCategory","Category","Info","Time","Divider","p","Title","h1","BlogPost","data","markdownRemark","frontmatter","title","desc","thumbnail","date","category","html","featuredImgFluid","childImageSharp","fluid","ogImagePath","fixed","description","image","dateTime","alt","dangerouslySetInnerHTML","__html","rhythm"],"mappings":"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","file":"component---src-templates-blog-post-js-adc5177b5a82458115e3.js","sourcesContent":["import React, { useRef, useContext, useEffect } from 'react';\nimport ThemeContext from 'store/themeContext';\nimport useSiteMetadata from 'hooks/useSiteMetadata';\nimport { DARK } from 'constants/constants';\n\nconst src = 'https://utteranc.es';\nconst utterancesSelector = 'iframe.utterances-frame';\nconst LIGHT_THEME = 'github-light';\nconst DARK_THEME = 'github-dark';\n\nconst Comment = () => {\n  const site = useSiteMetadata();\n  const { repo } = site.siteMetadata.utterances;\n  const theme = useContext(ThemeContext);\n  const containerRef = useRef(null);\n  const isUtterancesCreated = useRef(false);\n\n  useEffect(() => {\n    if (!repo) return;\n    let themeMode = null;\n\n    if (!isUtterancesCreated.current) {\n      themeMode =\n        document.body.dataset.theme === DARK ? DARK_THEME : LIGHT_THEME;\n    } else themeMode = theme === DARK ? DARK_THEME : LIGHT_THEME;\n\n    const createUtterancesEl = () => {\n      const comment = document.createElement('script');\n      const attributes = {\n        src: `${src}/client.js`,\n        repo,\n        'issue-term': 'title',\n        label: 'comment',\n        theme: themeMode,\n        crossOrigin: 'anonymous',\n        async: 'true',\n      };\n      Object.entries(attributes).forEach(([key, value]) => {\n        comment.setAttribute(key, value);\n      });\n      containerRef.current.appendChild(comment);\n      isUtterancesCreated.current = true;\n    };\n\n    const utterancesEl = containerRef.current.querySelector(utterancesSelector);\n\n    const postThemeMessage = () => {\n      if (!utterancesEl) return;\n      const message = {\n        type: 'set-theme',\n        theme: themeMode,\n      };\n      utterancesEl.contentWindow.postMessage(message, src);\n    };\n\n    isUtterancesCreated.current\n      ? postThemeMessage(utterancesEl)\n      : createUtterancesEl();\n  }, [repo, theme]);\n\n  return <div ref={containerRef} />;\n};\n\nComment.displayName = 'comment';\n\nexport default Comment;\n","import styled from \"styled-components\";\n\nconst DateTime = styled.time`\n  margin-top: 24px;\n  font-size: 0.875rem;\n  font-weight: var(--font-weight-regular);\n  color: var(--color-text-2);\n`;\n\nexport default DateTime;\n","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport styled from \"styled-components\";\nimport Layout from \"layout/layout\";\nimport SEO from \"components/seo\";\nimport Comment from \"components/comment\";\nimport { rhythm } from \"styles/typography\";\nimport Category from \"styles/category\";\nimport DateTime from \"styles/dateTime\";\nimport Markdown from \"styles/markdown\";\nimport Img from \"gatsby-image\";\n\nconst BlogPost = ({ data }) => {\n  const {\n    markdownRemark: {\n      frontmatter: { title, desc, thumbnail, date, category },\n      html,\n    },\n  } = data;\n\n  let featuredImgFluid = thumbnail.childImageSharp.fluid;\n  const ogImagePath = thumbnail && thumbnail.childImageSharp.fixed.src;\n\n  return (\n    <Layout>\n      <SEO title={title} description={desc} image={ogImagePath} />\n      <main>\n        <article>\n          <OuterWrapper>\n            <InnerWrapper>\n              <div>\n                <header>\n                  <Info>\n                    <PostCategory>{category}</PostCategory>\n                    <Time dateTime={date}>{date}</Time>\n                  </Info>\n                  <Title>{title}</Title>\n                  <ThumbnailImg fluid={featuredImgFluid} alt=\"thumbnail\" />\n                  {/* <Desc>{desc}</Desc> */}\n                </header>\n                <Divider />\n                <Markdown\n                  dangerouslySetInnerHTML={{ __html: html }}\n                  rhythm={rhythm}\n                />\n              </div>\n            </InnerWrapper>\n          </OuterWrapper>\n        </article>\n        <CommentWrap>\n          <Comment />\n        </CommentWrap>\n      </main>\n    </Layout>\n  );\n};\n\nconst ThumbnailImg = styled(Img)`\n  align-self: center;\n  /* aspect-ratio: 16 / 9; */\n  width: 130%;\n  height: 490px;\n  border-radius: var(--border-radius-base);\n\n  @media (max-width: ${({ theme }) => theme.device.md}) {\n    width: 90vw;\n    height: 420px;\n  }\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    width: 100%;\n    height: 200px;\n  }\n`;\n\nconst OuterWrapper = styled.div`\n  margin-top: var(--sizing-xl);\n\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    margin-top: var(--sizing-lg);\n  }\n`;\n\nconst InnerWrapper = styled.div`\n  width: var(--post-width);\n  margin: 0 auto;\n  padding-bottom: var(--sizing-lg);\n\n  & header {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    width: 87.5%;\n  }\n`;\n\nconst CommentWrap = styled.section`\n  width: 100%;\n  padding: 0 var(--padding-sm);\n  margin: 0 auto;\n  margin-bottom: var(--sizing-xl);\n\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    width: auto;\n  }\n`;\n\nconst PostCategory = styled(Category)`\n  font-size: 0.875rem;\n  font-weight: var(--font-weight-semi-bold);\n`;\n\nconst Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: var(--sizing-md);\n`;\n\nconst Time = styled(DateTime)`\n  display: block;\n  margin-top: var(--sizing-xs);\n`;\n\nconst Desc = styled.p`\n  margin-top: var(--sizing-md);\n  line-height: 1.5;\n  font-size: var(--text-base);\n  text-align: center;\n  color: var(--color-gray-5);\n\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    line-height: 1.31579;\n    font-size: 1.1875rem;\n  }\n`;\n\nconst Divider = styled.div`\n  width: 100%;\n  height: 1px;\n  background-color: var(--color-gray-3);\n  margin-top: var(--sizing-lg);\n  margin-bottom: var(--sizing-lg);\n`;\n\nconst Title = styled.h1`\n  font-weight: var(--font-weight-bold);\n  line-height: 1.1875;\n  font-size: var(--text-title-lg);\n  text-align: center;\n  margin-bottom: var(--sizing-lg);\n  @media (max-width: ${({ theme }) => theme.device.md}) {\n    line-height: 1.21875;\n    font-size: 2.5rem;\n  }\n\n  @media (max-width: ${({ theme }) => theme.device.sm}) {\n    line-height: 1.21875;\n    font-size: 2rem;\n  }\n`;\n\nexport const query = graphql`\n  query($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n        desc\n        thumbnail {\n          childImageSharp {\n            fluid(quality: 100, sizes: \"maxWidth: 3840\") {\n              ...GatsbyImageSharpFluid\n            }\n            fixed(quality: 100) {\n              src\n            }\n          }\n        }\n        date(formatString: \"YYYY-MM-DD\")\n        category\n      }\n    }\n  }\n`;\n\nexport default BlogPost;\n"],"sourceRoot":""}